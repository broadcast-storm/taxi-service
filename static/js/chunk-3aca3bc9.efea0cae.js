(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3aca3bc9"],{1270:function(e,t,n){"use strict";n("b0c0");var r=n("7a23");function a(e,t,n,a,o,c){return Object(r["p"])(),Object(r["d"])("div",null,[Object(r["g"])("label",{for:n.name,class:"sr-only"},Object(r["y"])(n.name),9,["for"]),Object(r["g"])("input",{id:n.name,name:n.name,type:n.type,pattern:""===n.pattern?null:n.pattern,autocomplete:n.autocomplete,required:n.required,class:["\n                relative\n                block\n                w-full\n                px-3\n                py-2\n                sm:py-3\n                bg-black bg-opacity-30\n                border-2 border-gray-300\n                placeholder-gray-500\n                text-base text-gray-300\n                rounded-md\n                h-14\n                focus:outline-none focus:ring-yellow-500 focus:border-yellow-500\n            ",{"text-white":n.darkMode,"bg-gray-900":n.darkMode,"border-gray-200":n.darkMode,"bg-opacity-100":n.darkMode}],placeholder:n.placeholder,value:n.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,42,["id","name","type","pattern","autocomplete","required","placeholder","value"])])}n("caad");var o={name:"Input",components:{},props:{modelValue:{type:String,default:""},required:{type:Boolean,default:!1},name:{type:String,required:!0},darkMode:{type:Boolean,default:!1},placeholder:{type:String,default:"Placeholder"},autocomplete:{type:String,default:"off"},pattern:{type:String,default:""},type:{validator:function(e){return["checkbox","hidden","password","radio","text","email","number","tel","datetime-local"].includes(e)},default:"text"}},computed:{},methods:{}};o.render=a;t["a"]=o},"1b4c":function(e,t,n){"use strict";n.r(t);n("a15b"),n("b0c0");var r=n("7a23"),a={class:"rounded-md shadow-sm"},o={type:"submit",class:"\n                    group\n                    relative\n                    w-full\n                    sm:w-1/2\n                    flex\n                    justify-center\n                    py-2\n                    sm:py-3 sm:my-3\n                    my-2\n                    px-4\n                    border border-transparent\n                    text-base\n                    font-medium\n                    rounded-md\n                    text-white\n                    bg-yellow-500\n                    hover:bg-yellow-600\n                    focus:outline-none\n                    focus:ring-2\n                    focus:ring-offset-2\n                    focus:ring-white\n                "},c={class:"flex items-center"},u={key:1};function l(e,t,n,l,s,d){var i=Object(r["w"])("Alert"),p=Object(r["w"])("Input"),m=Object(r["w"])("Spinner");return Object(r["p"])(),Object(r["d"])(r["a"],null,[s.error.length>0||"error"===e.profileUpdateStatus?(Object(r["p"])(),Object(r["d"])(i,{key:0,text:"error"===e.profileUpdateStatus?"Введеный номер уже используется\n":""+s.error.join("\n")},null,8,["text"])):Object(r["e"])("",!0),s.showSuccessAlert?(Object(r["p"])(),Object(r["d"])(i,{key:1,text:"Данные успешно изменены",class:"bg-green-100 border border-green-400 text-green-700"})):Object(r["e"])("",!0),Object(r["g"])("form",{class:"mt-3 sm:mt-8",onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return d.submit&&d.submit.apply(d,arguments)}),["prevent"]))},[Object(r["g"])("div",a,[Object(r["g"])(p,{modelValue:s.formData.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.formData.name=e}),name:"firstName",type:"text",autocomplete:"name",required:"",placeholder:"Имя","dark-mode":"",class:"mb-2 sm:mb-3"},null,8,["modelValue"]),Object(r["g"])(p,{modelValue:s.formData.surname,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.formData.surname=e}),name:"surname",type:"text",autocomplete:"surname",required:"",placeholder:"Фамилия","dark-mode":"",class:"mb-2 sm:mb-3"},null,8,["modelValue"]),Object(r["g"])(p,{modelValue:s.formData.phone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.formData.phone=e}),name:"phone",type:"tel",autocomplete:"phone",pattern:"(\\+7[-_()\\s]+|\\+7\\s?[(]{0,1}[0-9]{3}[)]{0,1}\\s?\\d{3}[-]{0,1}\\d{2}[-]{0,1}\\d{2})",required:"",placeholder:"+7(___)___-__-__","dark-mode":"",class:"mb-2 sm:mb-3"},null,8,["modelValue"])]),Object(r["g"])("div",null,[Object(r["g"])("button",o,[Object(r["g"])("span",c,["loading"===e.profileUpdateStatus?(Object(r["p"])(),Object(r["d"])(m,{key:0})):(Object(r["p"])(),Object(r["d"])("span",u,"Сохранить изменения"))])])])],32)],64)}var s=n("1da1"),d=n("5530"),i=(n("96cf"),n("1270")),p=n("66be"),m=n("2375"),b=n("5502"),f=n("255e"),h=n("98ab"),g={name:"UserInfo",components:{Input:i["a"],Spinner:m["a"],Alert:h["a"]},data:function(){return{routesList:p["a"],formData:{name:"",surname:"",phone:"+7(___)___-__-__"},showSuccessAlert:!1,updatingStatus:"",error:[]}},computed:Object(d["a"])({},Object(b["c"])("profile",["profileUpdateStatus","profileInfo"])),watch:{formData:{handler:function(){this.error.length>0&&(this.error=[])},deep:!0},profileUpdateStatus:function(e){var t=this;"success"===e&&(this.showSuccessAlert=!0,setTimeout((function(){return t.showSuccessAlert=!1}),1500))}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formData.name=e.profileInfo.name,e.formData.surname=e.profileInfo.surname,e.formData.phone=e.profileInfo.phone||"";case 3:case"end":return t.stop()}}),t)})))()},methods:Object(d["a"])(Object(d["a"])({},Object(b["b"])("profile",[f["d"]])),{},{checkCredentials:function(){console.log(this.error),0!==this.formData.name.length&&0!==this.formData.surname.length&&0!==this.formData.phone.length||this.error.push("Нельзя отправить пустые поля"),/^\+7\s?[(]?9[0-9]{2}[)]?\s?\d{3}[-]?\d{2}[-]?\d{2}$/.test(this.formData.phone)||this.error.push("Неверно введен номер")},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkCredentials(),0!==e.error.length){t.next=4;break}return t.next=4,e.PROFILE_UPDATE({name:e.formData.name,surname:e.formData.surname,phone:e.formData.phone});case 4:case"end":return t.stop()}}),t)})))()}})};g.render=l;t["default"]=g},2375:function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["G"])("data-v-5ebc378e");Object(r["s"])("data-v-5ebc378e");var o={class:"lds-ring"},c=Object(r["g"])("div",null,null,-1),u=Object(r["g"])("div",null,null,-1),l=Object(r["g"])("div",null,null,-1),s=Object(r["g"])("div",null,null,-1);Object(r["q"])();var d=a((function(e,t,n,a,d,i){return Object(r["p"])(),Object(r["d"])("div",o,[c,u,l,s])})),i={name:"Spinner"};n("31ab");i.render=d,i.__scopeId="data-v-5ebc378e";t["a"]=i},"31ab":function(e,t,n){"use strict";n("9c32")},"98ab":function(e,t,n){"use strict";var r=n("7a23"),a={class:"\n            bg-red-100\n            border border-red-400\n            text-red-700\n            px-2\n            sm:px-4\n            py-1\n            sm:py-3\n            my-1\n            sm:my-3\n            rounded\n            relative\n        ",role:"alert"};function o(e,t,n,o,c,u){return Object(r["p"])(),Object(r["d"])("div",a,[Object(r["g"])("span",null,Object(r["y"])(n.text),1)])}var c={name:"Alert",components:{},props:{text:{type:String,default:""}},computed:{},methods:{}};c.render=o;t["a"]=c},"9c32":function(e,t,n){},a15b:function(e,t,n){"use strict";var r=n("23e7"),a=n("44ad"),o=n("fc6a"),c=n("a640"),u=[].join,l=a!=Object,s=c("join",",");r({target:"Array",proto:!0,forced:l||!s},{join:function(e){return u.call(o(this),void 0===e?",":e)}})},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=chunk-3aca3bc9.efea0cae.js.map